<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="src/frontend/main.css">
  <title>André Pires homepage</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!-- Data Table -->
  <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.13/css/jquery.dataTables.css">
  <script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/dt-1.10.13/r-2.1.0/datatables.min.js"></script>
  <script>

    var formatDate = function(data, type, row) {
      // If display or filter data is requested, format the date
      if ( type === 'display' || type === 'filter' ) {
        var d = new Date(data);
        var monthNames = ["Jan.", "Feb.", "Mar.", "Apr.", "May", "Jun.","Jul.", "Aug.", "Sep.", "Oct.", "Nov.", "Dec."];
        return d.getFullYear() + " " + monthNames[d.getMonth()];
      }

      // Otherwise the data type requested (`type`) is type detection or
      // sorting data, for which we want to use the integer, so just return
      // that, unaltered
      return data;
    }

    var checkEmptyField = function(data, type, row) {
      if(data === null || data === "")
        return "N/A";
      else {
        return data;
      }
    }

    $(document).ready(function(){

      $('#experienceTable').DataTable( {
        ajax: {
          url: '/experience',
          dataSrc: ''
        },
        columns: [
          { data: "startDate",
            render: formatDate
          },
          { data: "endDate",
            render: formatDate
          },
          { data: "employer",
            render: checkEmptyField
          },
          { data: "client",
            render: checkEmptyField
          },
          { data: "projects" },
          { data: "tasks" }
        ],
        columnDefs: [
          { title: "Start date", targets: 0 },
          { title: "End date", targets: 1 },
          { title: "Employer", targets: 2 },
          { title: "Client", targets: 3 },
          { title: "Projects", targets: 4 },
          { title: "Tasks", targets: 5 },
        ],
        order: []
      });

    });

    $(function () {

        $('#getInTouchForm').on('submit', function (e) {

          e.preventDefault();

          $.ajax({
            type: 'post',
            url: '/message',
            data: $('#getInTouchForm').serialize(),
            success: function () {
              alert("I'll get in touch with you soon =)");
              $('#getInTouchForm')[0].reset();
            }
          });

        });

      });

  </script>

</head>
  <body>
    <div class="jumbotron text-center">
      <h1 class="red">André Pires</h1>
      <p>Software Developer</p>
    </div>

    <div class="container">

      <br/><br/>

      <div class="row resume">
        <div class="col-sm-4">
          <img src="tecnico.png" alt="Instituto Superior Técnico" width="140" height="140"/>
          <h2>Education</h2>
          <p>Master Degree in Electrical and Computer Engineering</p>
          <p>Instituto Superior Técnico</p>
          <p>Lisbon</p>
        </div>
        <div class="col-sm-4">
          <img src="dell.png" alt="Instituto Superior Técnico" width="140" height="140"/>
          <h2>Work Experience</h2>
          <p>BPM Consultant</p>
          <p>Dell Services and Novabase</p>
          <p>Dublin and Lisbon</p>
        </div>
        <div class="col-sm-4">
          <img src="javascript.png" alt="Instituto Superior Técnico" width="140" height="140"/>
          <h2>What´s next?</h2>
          <p>Web Developer</p>
          <p>Agile-oriented, exciting tech team!</p>
          <p>Lisbon and surroundings</p>
        </div>
      </div>

      <br/><br/>

      <h3>Experience details</h3>
      <br/>
      <!-- Experience table -->
      <table id="experienceTable" class="table table-striped"></table>

      <h3>Where I've been</h3>
      <br/>

      <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="3000">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- wrapper for slides -->
        <div class="carousel-inner" role="listbox">
          <div class="item active carousel">
            <img class="carouselImg" src="dublin.jpg" alt="Dublin">
            <div class="carousel-caption">
              <h3>Dublin</h3>
              <p>2015-2016</p>
            </div>
          </div>
          <div class="item carouselImg">
            <img class="carouselImg" src="lisboa.jpg" alt="Lisbon">
            <div class="carousel-caption">
              <h3>Lisbon</h3>
              <p>2006-2015 and 2016-present</p>
            </div>
          </div>
          <div class="item carouselImg">
            <img class="carouselImg" src="marinha-grande.jpg" alt="Marinha Grande">
            <div class="carousel-caption">
              <h3>Marinha Grande</h3>
              <p>1988-2006</p>
            </div>
          </div>
        </div>

          <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

      <br/>
      <!-- Get in touch -->
      <h3>Get in touch</h3>
      <div class="form-group">
        <form id="getInTouchForm">
          <div class="row">
            <div class="col-xs-6">
              <label>Name</label>
              <input type="text" name="name" class="form-control" placeholder="First and last name"/>
            </div>
            <div class="col-xs-6">
              <label>Email</label>
              <input type="email" name="email" class="form-control" placeholder="name@emailservice.region"/>
            </div>
          </div>
          <br/>
          <div class="row">
            <div class="col-xs-12">
              <label>Message</label>
              <textarea class="form-control" rows="3" name="message" placeholder="Enter your message here"></textarea>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <br/>
              <input type="submit" class="btn btn-primary" value="Send" name="button"/>
            </div>
          </div>
        </form>
      </div>


      <hr class="featurette-divider">
      <footer>
        <p class="pull-right">
          <a href="#">Back to top</a>
        </p>
        <p>
          2017 André Pires
        </p>
      </footer>
    </div>
  </body>
</html>
